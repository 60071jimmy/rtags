(gdb) t a a bt

Thread 21 (Thread 0x7ffff1680700 (LWP 27995)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000005a3463 in leveldb::(anonymous namespace)::PosixEnv::BGThreadWrapper(void*) ()
#2  0x00007ffff6095e9a in start_thread (arg=0x7ffff1680700) at pthread_create.c:308
#3  0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#4  0x0000000000000000 in ?? ()

Thread 9 (Thread 0x7ffff2682700 (LWP 27706)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffdc3d0c20, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff2681750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x83bf10) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x83bf10) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80f170) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80f170) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff2682700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 8 (Thread 0x7ffff2e83700 (LWP 27705)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
---Type <return> to continue, or q <return> to quit---
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe8c82aa0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff2e82750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80efe0) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80efe0) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff2e83700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 7 (Thread 0x7ffff3684700 (LWP 27704)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffec029cf0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff3683750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x838c60) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x838c60) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80ee60) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80ee60) at /home/abakken/dev/rtags/src/Thread.cpp:14
---Type <return> to continue, or q <return> to quit---t q
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff3684700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 6 (Thread 0x7ffff3e85700 (LWP 27703)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe42bc770, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff3e84750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x83a500) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x83a500) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80e960) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80e960) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff3e85700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 5 (Thread 0x7ffff4686700 (LWP 27702)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x8062c0, mutex=0x806298) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x0000000000517e34 in ThreadPoolThread::run (this=0x806760) at /home/abakken/dev/rtags/src/ThreadPool.cpp:57
#3  0x000000000057ac5d in Thread::internalStart (arg=0x806760) at /home/abakken/dev/rtags/src/Thread.cpp:14
#4  0x00007ffff6095e9a in start_thread (arg=0x7ffff4686700) at pthread_create.c:308
---Type <return> to continue, or q <return> to quit---q
ï¿½d

(gdb) t 8
[Switching to thread 8 (Thread 0x7ffff2e83700 (LWP 27705))]
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
162	../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S: No such file or directory.
(gdb) bt
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe8c82aa0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff2e82750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80efe0) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80efe0) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff2e83700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()
(gdb) f 7
#7  0x0000000000557cad in IndexerJob::execute (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
812	            writeSymbols(mSymbols, mReferences, Server::instance()->db(Server::Symbol, ReadWriteLock::Write, srcRoot));
(gdb) rez
^C(gdb) Quit
(gdb) f 3
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
143	    void lock(ReadWriteLock::LockType type) { mLock.lock(type); }
(gdb) l
138	    };
139	    Database(const Path &path, int cacheSizeMB, unsigned flags);
140	    ~Database();
141	
142	    unsigned flags() const { return mFlags; }
143	    void lock(ReadWriteLock::LockType type) { mLock.lock(type); }
144	    void unlock() { mLock.unlock(); }
145	    bool isOpened() const;
146	    void close();
147	    ByteArray openError() const;
(gdb) up
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe8c82aa0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
18	        db->lock(lockType);
(gdb) p db
$1 = (Database *) 0x80a440
(gdb) p db->mLock
$2 = {mMutex = {mMutex = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 5, __kind = 0, __spins = 0, __list = {__prev = 0x0, __next = 0x0}}, 
      __size = '\000' <repeats 12 times>, "\005", '\000' <repeats 26 times>, __align = 0}}, mCond = {mCond = {__data = {__lock = 0, __futex = 7, __total_seq = 6, __wakeup_seq = 1, 
        __woken_seq = 1, __mutex = 0x80a440, __nwaiters = 10, __broadcast_seq = 1}, 
      __size = "\000\000\000\000\a\000\000\000\006\000\000\000\000\000\000\000\001\000\000\000\000\000\000\000\001\000\000\000\000\000\000\000@\244\200\000\000\000\000\000\n\000\000\000\001\000\000", __align = 30064771072}}, mCount = 1, mWrite = true}
(gdb) 
$3 = {mMutex = {mMutex = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 5, __kind = 0, __spins = 0, __list = {__prev = 0x0, __next = 0x0}}, 
      __size = '\000' <repeats 12 times>, "\005", '\000' <repeats 26 times>, __align = 0}}, mCond = {mCond = {__data = {__lock = 0, __futex = 7, __total_seq = 6, __wakeup_seq = 1, 
        __woken_seq = 1, __mutex = 0x80a440, __nwaiters = 10, __broadcast_seq = 1}, 
      __size = "\000\000\000\000\a\000\000\000\006\000\000\000\000\000\000\000\001\000\000\000\000\000\000\000\001\000\000\000\000\000\000\000@\244\200\000\000\000\000\000\n\000\000\000\001\000\000", __align = 30064771072}}, mCount = 1, mWrite = true}
(gdb) bt
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe8c82aa0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff2e82750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80efe0) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80efe0) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff2e83700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()
(gdb) t a 
(gdb) t a a bt 

Thread 21 (Thread 0x7ffff1680700 (LWP 27995)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000005a3463 in leveldb::(anonymous namespace)::PosixEnv::BGThreadWrapper(void*) ()
#2  0x00007ffff6095e9a in start_thread (arg=0x7ffff1680700) at pthread_create.c:308
#3  0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#4  0x0000000000000000 in ?? ()

Thread 9 (Thread 0x7ffff2682700 (LWP 27706)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffdc3d0c20, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff2681750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x83bf10) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x83bf10) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80f170) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80f170) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff2682700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 8 (Thread 0x7ffff2e83700 (LWP 27705)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
---Type <return> to continue, or q <return> to quit---
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe8c82aa0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff2e82750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x834e40) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80efe0) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80efe0) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff2e83700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 7 (Thread 0x7ffff3684700 (LWP 27704)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffec029cf0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff3683750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x838c60) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x838c60) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80ee60) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80ee60) at /home/abakken/dev/rtags/src/Thread.cpp:14
---Type <return> to continue, or q <return> to quit---
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff3684700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 6 (Thread 0x7ffff3e85700 (LWP 27703)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x7fffe42bc770, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x7ffff3e84750, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x0000000000557cad in IndexerJob::execute (this=0x83a500) at /home/abakken/dev/rtags/src/IndexerJob.cpp:812
#8  0x00000000005566d6 in IndexerJob::run (this=0x83a500) at /home/abakken/dev/rtags/src/IndexerJob.cpp:630
#9  0x0000000000517efa in ThreadPoolThread::run (this=0x80e960) at /home/abakken/dev/rtags/src/ThreadPool.cpp:66
#10 0x000000000057ac5d in Thread::internalStart (arg=0x80e960) at /home/abakken/dev/rtags/src/Thread.cpp:14
#11 0x00007ffff6095e9a in start_thread (arg=0x7ffff3e85700) at pthread_create.c:308
#12 0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#13 0x0000000000000000 in ?? ()

Thread 5 (Thread 0x7ffff4686700 (LWP 27702)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x8062c0, mutex=0x806298) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x0000000000517e34 in ThreadPoolThread::run (this=0x806760) at /home/abakken/dev/rtags/src/ThreadPool.cpp:57
#3  0x000000000057ac5d in Thread::internalStart (arg=0x806760) at /home/abakken/dev/rtags/src/Thread.cpp:14
#4  0x00007ffff6095e9a in start_thread (arg=0x7ffff4686700) at pthread_create.c:308
---Type <return> to continue, or q <return> to quit---
#5  0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 4 (Thread 0x7ffff4e87700 (LWP 27701)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x8062c0, mutex=0x806298) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x0000000000517e34 in ThreadPoolThread::run (this=0x8065d0) at /home/abakken/dev/rtags/src/ThreadPool.cpp:57
#3  0x000000000057ac5d in Thread::internalStart (arg=0x8065d0) at /home/abakken/dev/rtags/src/Thread.cpp:14
#4  0x00007ffff6095e9a in start_thread (arg=0x7ffff4e87700) at pthread_create.c:308
#5  0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 3 (Thread 0x7ffff5688700 (LWP 27700)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x8062c0, mutex=0x806298) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x0000000000517e34 in ThreadPoolThread::run (this=0x806120) at /home/abakken/dev/rtags/src/ThreadPool.cpp:57
#3  0x000000000057ac5d in Thread::internalStart (arg=0x806120) at /home/abakken/dev/rtags/src/Thread.cpp:14
#4  0x00007ffff6095e9a in start_thread (arg=0x7ffff5688700) at pthread_create.c:308
#5  0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 2 (Thread 0x7ffff5e89700 (LWP 27699)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x8062c0, mutex=0x806298) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x0000000000517e34 in ThreadPoolThread::run (this=0x8061d0) at /home/abakken/dev/rtags/src/ThreadPool.cpp:57
#3  0x000000000057ac5d in Thread::internalStart (arg=0x8061d0) at /home/abakken/dev/rtags/src/Thread.cpp:14
---Type <return> to continue, or q <return> to quit---
#4  0x00007ffff6095e9a in start_thread (arg=0x7ffff5e89700) at pthread_create.c:308
#5  0x00007ffff639d4bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 1 (Thread 0x7ffff7fce740 (LWP 27696)):
#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162
#1  0x00000000004f88ed in WaitCondition::wait (this=0x80a468, mutex=0x80a440) at /home/abakken/dev/rtags/src/WaitCondition.h:12
#2  0x00000000004f86bc in ReadWriteLock::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ReadWriteLock.cpp:37
#3  0x00000000005797ec in Database::lock (this=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/Database.h:143
#4  0x00000000005797a0 in ScopedDB::Data::Data (this=0x837ca0, database=0x80a440, type=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:18
#5  0x00000000005796c9 in ScopedDB::ScopedDB (this=0x829f08, db=0x80a440, lockType=ReadWriteLock::Write) at /home/abakken/dev/rtags/src/ScopedDB.cpp:5
#6  0x00000000004fe2e3 in Server::db (this=0x80e990, type=Server::Symbol, lockType=ReadWriteLock::Write, root=...) at /home/abakken/dev/rtags/src/Server.cpp:902
#7  0x000000000057f800 in DirtyJob::DirtyJob (this=0x829e60, dirtyFileIds=..., srcRoot=...) at /home/abakken/dev/rtags/src/DirtyJob.cpp:9
#8  0x0000000000540ddd in Indexer::onDirectoryChanged (this=0x8281b0, p=...) at /home/abakken/dev/rtags/src/Indexer.cpp:437
#9  0x000000000052f293 in fastdelegate::FastDelegate1<Path const&, void>::operator() (this=0x8241d0, p1=...)
    at /home/abakken/dev/rtags/src/../signalslot/FastDelegate/FastDelegate.h:991
#10 0x000000000052e56f in signalslot::Signal1<Path const&>::operator() (this=0x828500, a1=...) at /home/abakken/dev/rtags/src/../signalslot/signalslot.h:114
#11 0x000000000052d672 in FileSystemWatcher::notifyReadyRead (this=0x828440) at /home/abakken/dev/rtags/src/FileSystemWatcher.cpp:234
#12 0x000000000052d7a6 in FileSystemWatcher::notifyCallback (user=0x828440) at /home/abakken/dev/rtags/src/FileSystemWatcher.h:21
#13 0x000000000051c8c9 in EventLoop::run (this=0x7fffffffe040) at /home/abakken/dev/rtags/src/EventLoop.cpp:267
#14 0x00000000004ed3cf in main (argc=2, argv=0x7fffffffe248) at /home/abakken/dev/rtags/src/rdm.cpp:247
